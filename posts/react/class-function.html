<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><link rel="preload" href="/favori-logo-blank.png" as="image" data-next-head=""/><meta name="title" content="React class组件和function组件异同" data-next-head=""/><meta name="author" content="Favori" data-next-head=""/><link rel="icon" type="image/png" sizes="70x70" href="/favicon-70x70.png" data-next-head=""/><title data-next-head="">React class组件和function组件异同</title><style data-next-head="">:root{--nextra-bg:250,250,250;}.dark{--nextra-bg:17,17,17;}</style><link rel="preload" href="/_next/static/css/552cfd626c7d3395.css" as="style"/><link rel="stylesheet" href="/_next/static/css/552cfd626c7d3395.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-7aa77703737d139f.js" defer=""></script><script src="/_next/static/chunks/framework-4e48f2cc6a39465a.js" defer=""></script><script src="/_next/static/chunks/main-d7c2d8830adc2477.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2ec274c3be73acea.js" defer=""></script><script src="/_next/static/chunks/2195-a5c3dde35c1c11c2.js" defer=""></script><script src="/_next/static/chunks/pages/posts/react/class-function-4fcc94d6412b93b1.js" defer=""></script><script src="/_next/static/liUDpDv9XeuZIQ0wA6cxc/_buildManifest.js" defer=""></script><script src="/_next/static/liUDpDv9XeuZIQ0wA6cxc/_ssgManifest.js" defer=""></script></head><body><div id="__next"><script>((e,t,r,n,o,a,i,s)=>{let l=document.documentElement,u=["light","dark"];function c(t){(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&a?o.map(e=>a[e]||e):o;r?(l.classList.remove(...n),l.classList.add(t)):l.setAttribute(e,t)}),s&&u.includes(t)&&(l.style.colorScheme=t)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","system",null,["light","dark"],null,true,true)</script><div class="Layout_container__o59WT"><header class="Header_header__aO32P"><div class="Header_headerInner__np1cA"><div class="Header_nav__wk8Zc"><a class="Header_logo__Vr4sK" href="/"><img alt="Favori Logo" width="140" height="50" decoding="async" data-nimg="1" style="color:transparent" src="/favori-logo-blank.png"/></a></div><div class="Header_search__c61pn"></div><div class="Header_rightNav__NG1Lv"><button class="Header_themeButton__zM4Kv" aria-label="Toggle theme"><svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><a href="https://github.com/yuanguandong" target="_blank" rel="noopener noreferrer" class="Header_navLink__Kg8GB"><svg height="20" viewBox="0 0 16 16" width="20" fill="currentColor"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg><span class="hidden md:inline ml-1">GitHub</span></a></div></div></header><main class="Layout_main__5FFfL"><article class="_container _prose max-md:_prose-sm dark:_prose-invert" dir="ltr"><h1>React class组件和function组件异同</h1><div class="_mb-8 _flex _gap-3 _items-center"><div class="_not-prose _grow dark:_text-gray-400 _text-gray-600"><div class="_flex _flex-wrap _items-center _gap-1">Favori<!-- -->,<time dateTime="2021-09-11T00:00:00.000Z">Sat Sep 11 2021</time></div></div><div class="_flex _items-center _gap-3 print:_hidden"></div></div><p><img alt="Class Function" loading="lazy" width="889" height="664" decoding="async" data-nimg="1" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 320 240&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/webp;base64,UklGRkQAAABXRUJQVlA4IDgAAADQAQCdASoIAAYAAkA4JQBOgCHPECWTAAD+1OdImQLl6aF9mv0AlXVK2lC9qYLRejE1L9+idnfAAA==&#x27;/%3E%3C/svg%3E&quot;)" src="/_next/static/media/hero.fe4b24ca.webp"/></p>
<div class="img-desc">图：Nguyen Nhut</div>
<!-- -->
<h2 id="相同点" class="subheading-h2">相同点<a href="#相同点" class="_not-prose subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p>都可以接收props返回react元素</p>
<h2 id="不同点" class="subheading-h2">不同点<a href="#不同点" class="_not-prose subheading-anchor" aria-label="Permalink for this section"></a></h2>
<h3 id="编程思想" class="subheading-h3">编程思想<a href="#编程思想" class="_not-prose subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p>类组件需要创建实例，面向对象，函数组件不需要创建实例，接收输入，返回输出，函数式编程</p>
<h3 id="内存占用" class="subheading-h3">内存占用<a href="#内存占用" class="_not-prose subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p>类组建需要创建并保存实例，占用一定的内存</p>
<h3 id="值捕获特性" class="subheading-h3">值捕获特性<a href="#值捕获特性" class="_not-prose subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p>函数组件具有值捕获的特性</p>
<h3 id="可测试性" class="subheading-h3">可测试性<a href="#可测试性" class="_not-prose subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p>函数组件方便测试</p>
<h3 id="状态" class="subheading-h3">状态<a href="#状态" class="_not-prose subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p>类组件有自己的状态，函数组件没有，只能通过useState</p>
<h3 id="生命周期" class="subheading-h3">生命周期<a href="#生命周期" class="_not-prose subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p>类组件有自己的生命周期，函数组件没有，可以使用useEffect实现类似的生命周期</p>
<h3 id="逻辑复用" class="subheading-h3">逻辑复用<a href="#逻辑复用" class="_not-prose subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p>类组件继承，用HOC, 会导致逻辑混乱，嵌套，组合优于继承，函数组件hook逻辑复用</p>
<h3 id="跳过更新" class="subheading-h3">跳过更新<a href="#跳过更新" class="_not-prose subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p>shouldComponentUpdate PureComponent, React.memo</p>
<h3 id="发展未来" class="subheading-h3">发展未来<a href="#发展未来" class="_not-prose subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p>函数组件未来成为主流，屏蔽this、规范、复用、适合时间分片和渲染</p></article></main><footer class="Footer_footer__hibhg"><div class="Footer_footerInner___6PzH"><div class="Footer_footerContent__7ET_v"><div class="Footer_footerLeft__6YSJc"><div class="Footer_footerMotto__hGlND"><p class="Footer_mottoContent__DZtOp"></p><p class="Footer_mottoAuthor__CLOkJ">—— </p></div></div><div class="Footer_footerRight__gZmlM"><div class="Footer_footerLinks__nX7_m"><a href="https://github.com/yuanguandong" class="Footer_footerLink__PHLXX">GitHub</a></div><div class="Footer_footerCopyright__v5EO_">© <!-- -->2024<!-- --> 重剑的博客 All rights reserved.</div><div class="Footer_footerICP__U9ArL"><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer" class="Footer_footerLink__PHLXX">蜀ICP备2024070350号-3</a></div></div></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/posts/react/class-function","query":{},"buildId":"liUDpDv9XeuZIQ0wA6cxc","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>