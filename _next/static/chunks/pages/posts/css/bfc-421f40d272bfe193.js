(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6175],{334:(i,s,h)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/css/bfc",function(){return h(64810)}])},64810:(i,s,h)=>{"use strict";h.r(s),h.d(s,{default:()=>t,useTOC:()=>r});var l=h(86070),e=h(19422),n=h(72522),d=h(24756);let a={src:"/_next/static/media/hero.fa358ca1.webp",height:2720,width:2032,blurDataURL:"data:image/webp;base64,UklGRlgAAABXRUJQVlA4IEwAAADwAQCdASoGAAgAAkA4JbACdAEWZEYcMcAA/umeNGVjOdNbeNkjPera4ImrIwu8AMwdzxbNfYeVvX2bj+ZNxfqkVB2Hdy2e/k30OAAA",blurWidth:6,blurHeight:8};function r(i){return[{value:"BFC定义",id:"bfc定义",depth:2},{value:"总结:",id:"总结",depth:2},{value:"怎样使一个元素变成BFC区域",id:"怎样使一个元素变成bfc区域",depth:2},{value:"1，解决外边距的塌陷问题(垂直塌陷)",id:"1解决外边距的塌陷问题垂直塌陷",depth:3},{value:"2，利用BFC解决包含塌陷",id:"2利用bfc解决包含塌陷",depth:3},{value:"3.清除浮动。",id:"3清除浮动",depth:3},{value:"4.BFC可以阻止标准流元素被浮动元素覆盖",id:"4bfc可以阻止标准流元素被浮动元素覆盖",depth:3}]}let t=(0,e.e)(function(i){let{toc:s=r(i)}=i,h={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",span:"span",...(0,d.R)(),...i.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.p,{children:(0,l.jsx)(h.img,{alt:"Bfc",placeholder:"blur",src:a})}),"\n",(0,l.jsx)("div",{className:"img-desc",children:"图：AI"}),"\n",(0,l.jsx)(h.h2,{id:s[0].id,children:s[0].value}),"\n",(0,l.jsx)(h.p,{children:"BFC - Block Formatting Context 块级格式化上下文 BFC的定义："}),"\n",(0,l.jsx)(h.p,{children:"1、一个BFC区域包含创建该上下文元素的所有子元素，但是不包括创建了新的BFC的子元素的内部元素，"}),"\n",(0,l.jsx)(h.p,{children:"2、BFC是一块块独立的渲染区域，可以将BFC看成是元素的一种属性，拥有了这种属性的元素就会使他的子元素与世隔绝，不会影响到外部其他元素"}),"\n",(0,l.jsx)(h.pre,{tabIndex:"0","data-language":"html","data-word-wrap":"","data-copy":"",children:(0,l.jsxs)(h.code,{children:[(0,l.jsxs)(h.span,{children:[(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"<"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" className"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"="}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"box1"'}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" id"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"="}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"bfc1"'}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,l.jsxs)(h.span,{children:[(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  <"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" className"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"="}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"box2"'}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"></"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,l.jsxs)(h.span,{children:[(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  <"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" className"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"="}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"box3"'}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"></"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,l.jsxs)(h.span,{children:[(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  <"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" className"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"="}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"box4"'}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"></"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,l.jsxs)(h.span,{children:[(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  <"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" className"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"="}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"box5"'}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" id"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"="}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"bfc2"'}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,l.jsxs)(h.span,{children:[(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    <"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" className"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"="}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"box6"'}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"></"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,l.jsxs)(h.span,{children:[(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    <"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" className"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"="}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"box7"'}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"></"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,l.jsxs)(h.span,{children:[(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    <"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" className"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"="}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"box8"'}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"></"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,l.jsxs)(h.span,{children:[(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  </"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,l.jsxs)(h.span,{children:[(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"</"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,l.jsx)(h.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]})]})}),"\n",(0,l.jsx)(h.p,{children:"假设box1和box5是两个BFC区域，那么根据上述原理能理解到的就是，box1这个BFC区域包含了子元素box2，box3，box4，box5。\n但不包括box678。而box5这块BFC区域则包含了box678这三个子元素。"}),"\n",(0,l.jsx)(h.h2,{id:s[1].id,children:s[1].value}),"\n",(0,l.jsx)(h.p,{children:"1,每一个BFC区域只包括其子元素，不包括其子元素的子元素。\n2,每一个BFC区域都是独立隔绝的,互不影响"}),"\n",(0,l.jsx)(h.h2,{id:s[2].id,children:s[2].value}),"\n",(0,l.jsx)(h.p,{children:"大概有以下几种办法："}),"\n",(0,l.jsx)(h.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"","data-copy":"",children:(0,l.jsxs)(h.code,{children:[(0,l.jsx)(h.span,{children:(0,l.jsx)(h.span,{children:"\xb7body根元素"})}),"\n",(0,l.jsx)(h.span,{children:(0,l.jsx)(h.span,{children:"\xb7设置浮动，不包括none"})}),"\n",(0,l.jsx)(h.span,{children:(0,l.jsx)(h.span,{children:"\xb7设置定位，absoulte或者fixed"})}),"\n",(0,l.jsx)(h.span,{children:(0,l.jsx)(h.span,{children:"\xb7行内块显示模式，inline-block"})}),"\n",(0,l.jsx)(h.span,{children:(0,l.jsx)(h.span,{children:"\xb7设置overflow，即hidden，auto，scroll"})}),"\n",(0,l.jsx)(h.span,{children:(0,l.jsx)(h.span,{children:"\xb7表格单元格，table-cell"})}),"\n",(0,l.jsx)(h.span,{children:(0,l.jsx)(h.span,{children:"\xb7弹性布局，flex"})})]})}),"\n",(0,l.jsx)(h.p,{children:"那知道了怎么让元素变成BFC区域后，这个BFC到底有什么作用呢？"}),"\n",(0,l.jsx)(h.p,{children:"根据上面的描述，BFC区域有一个特点，那就是独立。不会影响外部元素。根绝这个特性就能解决很多布局问题。"}),"\n",(0,l.jsx)("div",{className:"art-container",children:(0,l.jsx)("iframe",{src:"https://codesandbox.io/embed/bfc-2ttrhs?fontsize=14&hidenavigation=1&theme=dark",style:{width:"100%",height:"500px",border:0,borderRadius:"4px",overflow:"hidden"},title:"bfc",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})}),"\n",(0,l.jsx)(h.h3,{id:s[3].id,children:s[3].value}),"\n",(0,l.jsx)(h.p,{children:"开发中，前端的布局手段，离不开外边距margin，那么，也会遇到一些问题，例如外边距的垂直塌陷问题。"}),"\n",(0,l.jsx)(h.p,{children:"看上面son2的例子，两个盒子都有100的外边距，但是实际上两个盒子的距离却只有100px，按理来说应该是200才对，这就是margin垂直塌陷。那要解决这个问题只需要给这两个盒子都加一个父元素，并且将这个父元素设置成BFC区域，就可以解决这个margin塌陷的问题。"}),"\n",(0,l.jsx)(h.h3,{id:s[4].id,children:s[4].value}),"\n",(0,l.jsx)(h.p,{children:"有时候我们给子元素加margin可能会带着父元素一起跑, 如father1"}),"\n",(0,l.jsx)(h.p,{children:"很显然，我们只是想要子元素距离父元素50px，而不是整个父元素都一起跑。这个时候用padding可以解决问题，但是用BFC同样可以解决"}),"\n",(0,l.jsx)(h.p,{children:"只需要将父元素变为BFC区域，就能得到解决"}),"\n",(0,l.jsx)(h.p,{children:"因为将父盒子变成一个独立的区域，这样在BFC区域内部的任何操作，都不会影响到外部"}),"\n",(0,l.jsx)(h.h3,{id:s[5].id,children:s[5].value}),"\n",(0,l.jsx)(h.p,{children:"大家都知道，浮动会导致父元素高度塌陷，那大家还记得怎么清除浮动吗？相信很多人都知道：overflow：hidden嘛。\n相信在认识BFC之前大家肯定不太清楚为什么overflow：hidden可以清除浮动。\n现在知道了，BFC区域内的子元素任何边动都是不会影响到外部元素的。所以BFC区域同样可以清除浮动带来的影响。\n如son3"}),"\n",(0,l.jsx)(h.h3,{id:s[6].id,children:s[6].value}),"\n",(0,l.jsx)(h.p,{children:"大家都知道，浮动的元素会脱离文档流，跑到上一个层面，也就是和原本的元素们不在一个层面了。所以可能会导致浮动元素覆盖基本元素的问题。"}),"\n",(0,l.jsx)(h.p,{children:"那么这个时候我们只需要让蓝色区域触发BFC，就可以做到不受浮动元素影响"}),"\n",(0,l.jsx)(h.p,{children:"如red, blue"}),"\n",(0,l.jsx)(h.h1,{children:"最后总结一下："}),"\n",(0,l.jsx)(h.p,{children:"一个BFC区域只包含其子元素，不包括其子元素的子元素。\n并不是所有的元素都能成为一块BFC区域，只有当这个元素满足条件的时候才会成为一块BFC区域。\n不同的BFC区域之间是相互独立的，互不影响的。利用这个特性我们可以让不同BFC区域之间的布局不产生影响。"})]})},"/posts/css/bfc",{filePath:"pages/posts/css/bfc/index.mdx",timestamp:1732443695e3,pageMap:n.O,frontMatter:{slug:"css-bfc",title:"Block Formatting Context 块级格式化上下文",author:"Favori",date:"2021-04-17",hero:"./hero.webp",excerpt:"可以将BFC看成是元素的一种属性，拥有了这种属性的元素就会使他的子元素与世隔绝，不会影响到外部其他元素"},title:"Block Formatting Context 块级格式化上下文"},"undefined"==typeof RemoteContent?r:RemoteContent.useTOC)}},i=>{var s=s=>i(i.s=s);i.O(0,[2195,636,6593,8792],()=>s(334)),_N_E=i.O()}]);